<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1hxiahx" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="18.6.1">
  <bpmn:collaboration id="Collaboration_128dczh">
    <bpmn:participant id="Participant_0zae7cy" name="Работа с подарочными серфикатами TO BE" processRef="Process_0e8l1ny" />
  </bpmn:collaboration>
  <bpmn:process id="Process_0e8l1ny">
    <bpmn:laneSet id="LaneSet_0gy6gk8">
      <bpmn:lane id="Lane_01rlja5" name="Кассир">
        <bpmn:flowNodeRef>Activity_0xfy5m9</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0fzql5z</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0nru36w</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0hfxsxw</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1k3149v</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1lwhsph</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0bvlu1u</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0x3snn2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0j92zzo</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_10apl32</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0kaz9ki" name="Покупатель">
        <bpmn:flowNodeRef>Activity_0qzs32t</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0pkks9e</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1l48772" name="Предявитель">
        <bpmn:flowNodeRef>Activity_0z5d10t</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:task id="Activity_0xfy5m9" name="Распечатать и заполнить сертификат в учетной системе">
      <bpmn:incoming>Flow_0g1hkuk</bpmn:incoming>
      <bpmn:outgoing>Flow_0z8xsk0</bpmn:outgoing>
    </bpmn:task>
    <bpmn:startEvent id="Event_0fzql5z" name="Продажа сертификата">
      <bpmn:outgoing>Flow_0g1hkuk</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_0qzs32t" name="Оплатить сертификат">
      <bpmn:incoming>Flow_0z8xsk0</bpmn:incoming>
      <bpmn:outgoing>Flow_0lzab83</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_0nru36w" name="Принять деньги от покупателя">
      <bpmn:incoming>Flow_0lzab83</bpmn:incoming>
      <bpmn:outgoing>Flow_1078adf</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0g1hkuk" sourceRef="Event_0fzql5z" targetRef="Activity_0xfy5m9" />
    <bpmn:sequenceFlow id="Flow_0z8xsk0" sourceRef="Activity_0xfy5m9" targetRef="Activity_0qzs32t" />
    <bpmn:sequenceFlow id="Flow_0lzab83" sourceRef="Activity_0qzs32t" targetRef="Activity_0nru36w" />
    <bpmn:sequenceFlow id="Flow_039lzto" sourceRef="Activity_0z5d10t" targetRef="Gateway_1lwhsph" />
    <bpmn:sequenceFlow id="Flow_168jkd3" name="да" sourceRef="Gateway_1lwhsph" targetRef="Activity_0bvlu1u" />
    <bpmn:sequenceFlow id="Flow_1chcscn" name="нет" sourceRef="Gateway_1lwhsph" targetRef="Activity_0x3snn2" />
    <bpmn:sequenceFlow id="Flow_1078adf" sourceRef="Activity_0nru36w" targetRef="Activity_0hfxsxw" />
    <bpmn:task id="Activity_0hfxsxw" name="Сформировать документ &#34;Реализация сертификатов&#34;">
      <bpmn:incoming>Flow_1078adf</bpmn:incoming>
      <bpmn:outgoing>Flow_0gfbtuw</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_1k3149v" name="Распечатать сертификат и выдать покупателю">
      <bpmn:incoming>Flow_0gfbtuw</bpmn:incoming>
      <bpmn:outgoing>Flow_08tauiv</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0gfbtuw" sourceRef="Activity_0hfxsxw" targetRef="Activity_1k3149v" />
    <bpmn:sequenceFlow id="Flow_08tauiv" sourceRef="Activity_1k3149v" targetRef="Activity_0pkks9e" />
    <bpmn:task id="Activity_0pkks9e" name="Получить сертификат">
      <bpmn:incoming>Flow_08tauiv</bpmn:incoming>
      <bpmn:outgoing>Flow_1t0oxi3</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_1lwhsph" name="Сертификат активен в системе">
      <bpmn:incoming>Flow_039lzto</bpmn:incoming>
      <bpmn:outgoing>Flow_168jkd3</bpmn:outgoing>
      <bpmn:outgoing>Flow_1chcscn</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1t0oxi3" sourceRef="Activity_0pkks9e" targetRef="Activity_0z5d10t" />
    <bpmn:task id="Activity_0z5d10t" name="Оплатить сертификатом покупку">
      <bpmn:incoming>Flow_1t0oxi3</bpmn:incoming>
      <bpmn:outgoing>Flow_039lzto</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_0bvlu1u" name="Принять оплату сертификатом">
      <bpmn:incoming>Flow_168jkd3</bpmn:incoming>
      <bpmn:outgoing>Flow_04zp43e</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_0x3snn2" name="Отказать предъявителю в оплате сертификатом">
      <bpmn:incoming>Flow_1chcscn</bpmn:incoming>
      <bpmn:outgoing>Flow_1hejetn</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_04zp43e" sourceRef="Activity_0bvlu1u" targetRef="Event_10apl32" />
    <bpmn:sequenceFlow id="Flow_1hejetn" sourceRef="Activity_0x3snn2" targetRef="Event_0j92zzo" />
    <bpmn:intermediateThrowEvent id="Event_0j92zzo" name="Отказ в оплате">
      <bpmn:incoming>Flow_1hejetn</bpmn:incoming>
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateThrowEvent id="Event_10apl32" name="Завершение оплаты">
      <bpmn:incoming>Flow_04zp43e</bpmn:incoming>
    </bpmn:intermediateThrowEvent>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_128dczh">
      <bpmndi:BPMNShape id="Participant_0zae7cy_di" bpmnElement="Participant_0zae7cy" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="1270" height="560" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1l48772_di" bpmnElement="Lane_1l48772" isHorizontal="true">
        <dc:Bounds x="190" y="450" width="1240" height="190" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0kaz9ki_di" bpmnElement="Lane_0kaz9ki" isHorizontal="true">
        <dc:Bounds x="190" y="290" width="1240" height="160" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_01rlja5_di" bpmnElement="Lane_01rlja5" isHorizontal="true">
        <dc:Bounds x="190" y="80" width="1240" height="210" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xfy5m9_di" bpmnElement="Activity_0xfy5m9">
        <dc:Bounds x="290" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0fzql5z_di" bpmnElement="Event_0fzql5z" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="222" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="207" y="205" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qzs32t_di" bpmnElement="Activity_0qzs32t">
        <dc:Bounds x="290" y="350" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0nru36w_di" bpmnElement="Activity_0nru36w">
        <dc:Bounds x="480" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0hfxsxw_di" bpmnElement="Activity_0hfxsxw">
        <dc:Bounds x="620" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1k3149v_di" bpmnElement="Activity_1k3149v">
        <dc:Bounds x="760" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0pkks9e_di" bpmnElement="Activity_0pkks9e">
        <dc:Bounds x="760" y="350" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1lwhsph_di" bpmnElement="Gateway_1lwhsph" isMarkerVisible="true">
        <dc:Bounds x="985" y="165" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="911" y="176" width="64" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0z5d10t_di" bpmnElement="Activity_0z5d10t">
        <dc:Bounds x="960" y="500" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0bvlu1u_di" bpmnElement="Activity_0bvlu1u">
        <dc:Bounds x="1160" y="90" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0x3snn2_di" bpmnElement="Activity_0x3snn2">
        <dc:Bounds x="1160" y="200" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0j92zzo_di" bpmnElement="Event_0j92zzo" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="1352" y="222" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1331" y="265" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_10apl32_di" bpmnElement="Event_10apl32" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="1352" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1338" y="155" width="64" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0g1hkuk_di" bpmnElement="Flow_0g1hkuk">
        <di:waypoint x="258" y="180" />
        <di:waypoint x="290" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z8xsk0_di" bpmnElement="Flow_0z8xsk0">
        <di:waypoint x="340" y="220" />
        <di:waypoint x="340" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lzab83_di" bpmnElement="Flow_0lzab83">
        <di:waypoint x="390" y="390" />
        <di:waypoint x="415" y="390" />
        <di:waypoint x="415" y="180" />
        <di:waypoint x="480" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_039lzto_di" bpmnElement="Flow_039lzto">
        <di:waypoint x="1010" y="500" />
        <di:waypoint x="1010" y="215" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_168jkd3_di" bpmnElement="Flow_168jkd3">
        <di:waypoint x="1010" y="165" />
        <di:waypoint x="1010" y="130" />
        <di:waypoint x="1160" y="130" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1019" y="145" width="12" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1chcscn_di" bpmnElement="Flow_1chcscn">
        <di:waypoint x="1035" y="190" />
        <di:waypoint x="1098" y="190" />
        <di:waypoint x="1098" y="240" />
        <di:waypoint x="1160" y="240" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1104" y="213" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1078adf_di" bpmnElement="Flow_1078adf">
        <di:waypoint x="580" y="180" />
        <di:waypoint x="620" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gfbtuw_di" bpmnElement="Flow_0gfbtuw">
        <di:waypoint x="720" y="180" />
        <di:waypoint x="760" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08tauiv_di" bpmnElement="Flow_08tauiv">
        <di:waypoint x="810" y="220" />
        <di:waypoint x="810" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1t0oxi3_di" bpmnElement="Flow_1t0oxi3">
        <di:waypoint x="860" y="390" />
        <di:waypoint x="890" y="390" />
        <di:waypoint x="890" y="540" />
        <di:waypoint x="960" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04zp43e_di" bpmnElement="Flow_04zp43e">
        <di:waypoint x="1260" y="130" />
        <di:waypoint x="1352" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hejetn_di" bpmnElement="Flow_1hejetn">
        <di:waypoint x="1260" y="240" />
        <di:waypoint x="1352" y="240" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
